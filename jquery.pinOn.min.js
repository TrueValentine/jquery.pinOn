!function(a){a.fn.pinOn=function(b,c,d){var e={position:{},align:{}};e.$parent=b,"string"==typeof b&&(e.$parent=a(b));var f;if(f=new RegExp("([a-z]+)([+-][0-9]+)?([^a-z]+([a-z]+)([+-][0-9]+)?)?","gi"),c=f.exec(c)){var g=c[1],h=parseInt(c[2]||"0"),i=c[4],j=parseInt(c[5]||"0");["left","right"].indexOf(g)>-1?(e.position.x=g,e.position.dx=h):["left","right"].indexOf(i)>-1&&(e.position.x=i,e.position.dx=j),["top","bottom"].indexOf(g)>-1?(e.position.y=g,e.position.dy=h):["top","bottom"].indexOf(i)>-1&&(e.position.y=i,e.position.dy=j)}if(f=new RegExp("([a-z]+)([+-][0-9]+)?","gi"),d=f.exec(d)){var k=d[1]||"center",l=parseInt(d[2]||"0");["left","right","center","top","bottom"].indexOf(k)>-1&&(e.align.value=k,e.align.delta=l)}return this.each(function(){var b=a(this);"static"==e.$parent.css("position")&&e.$parent.css("position","relative"),b.css("position","absolute");var c="left",d="top",f=parseInt(e.position.dx||"0"),g=parseInt(e.position.dy||"0"),h=e.align.value||"center",i=parseInt(e.align.delta||0);e.position.x?(f+=e.$parent.width(),"left"==e.position.x?c="right":"right"==e.position.x&&(c="left")):(f+=i,"center"==h?f+=(e.$parent.width()-b.width())/2:"right"==h&&(c="right",f*=-1)),e.position.y?(g+=e.$parent.height(),"top"==e.position.y?d="bottom":"bottom"==e.position.y&&(d="top")):(g+=i,"center"==h?g+=(e.$parent.height()-b.height())/2:"bottom"==h&&(d="bottom",g*=-1));var j={left:"",right:"",top:"",bottom:""};j[d]=g,j[c]=f,b.css(j)})}}(jQuery);